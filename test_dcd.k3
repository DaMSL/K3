include "Core/Builtins.k3"
include "Annotation/Vector.k3"

trigger t : { x : collection {elem : real } @Vector,
	      y : collection {elem : real } @Vector, 
              z : collection {elem : real } @Vector 
            } = \frame -> (

	(s2, me) <- {xs : frame.x.size (), ys :  frame.y.size (), zs : frame.y.size () }
)

sink s2 : {xs : int, ys : int , zs : int} = file "dcdOut.csv" csv

source s1 : { x : collection {elem : real } @Vector,
	      y : collection {elem : real } @Vector, 
              z : collection {elem : real } @Vector 
            }  = file "../bpti-all-000.dcd" dcd
feed s1 |> t
