declare nodeCounter : mut int = 0

trigger join : () = \_ -> (register, 'rendezvous) <- 1

trigger register : int = \x -> nodeCounter = nodeCounter + x

source go : () = value ()

feed go |> join

